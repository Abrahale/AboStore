<button mat-raised-button (click)="isLinear = !isLinear" id="toggle-linear">
    {{!isLinear ? 'Enable linear mode' : 'Disable linear mode'}}
  </button>
  <mat-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="formProduct">
      <form [formGroup]="formProduct">
        <ng-template matStepLabel>Fill out product properties</ng-template>
        <form  [formGroup]="formProduct">
            <mat-form-field class="full-width">
                <mat-label>Product Title</mat-label>
                <input matInput formControlName="title" >
              </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>Description</mat-label>
                <input matInput formControlName="description">
              </mat-form-field>
            <mat-form-field class="col-sm-6">
                <mat-label>Product Code</mat-label>
                <input matInput formControlName="productCode">
              </mat-form-field>
            <mat-form-field class="col-sm-4 ml-20">
                <mat-label>Price</mat-label>
                <input matInput formControlName="price">
              </mat-form-field>
            <mat-form-field class="col-sm-4 ml-20">
                <mat-label>Quantity</mat-label>
                <input matInput formControlName="quantity">
            </mat-form-field>
            <mat-slide-toggle formControlName="available">Is product available?</mat-slide-toggle>

        </form>
        <div>
          <button mat-button matStepperNext (click)="step1OnClick()">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="departmentForm" label="Department">
      <form [formGroup]="departmentForm">
        <h3>Please select a department from the list below, select all that apply</h3>
        <mat-divider></mat-divider>
        <div class="form-group">
            <mat-checkbox *ngFor="let control of departmentsContorls?.controls; let i = index" [formControl]="control | formControl"> 
                {{ departments[i]?.name }}
            </mat-checkbox>
          </div>
        <div>
          <mat-divider></mat-divider>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext (click)="step2OnClick()">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="categoryForm" label="Category">
      <form [formGroup]="categoryForm">
        <h3>Please select a categories from the list below, select all that apply</h3>
        <mat-divider></mat-divider>
        <div class="form-group">
            <mat-checkbox *ngFor="let categoryControl of categoryContorls?.controls; let i = index" [formControl]="categoryControl | formControl"> 
              {{ categories[i]?.name }}
            </mat-checkbox>
          </div>
        <div>
          <mat-divider></mat-divider>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button matStepperNext (click)="step3OnClick()">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="manufacturerForm" label="Manufacturer">
      <form [formGroup]="manufacturerForm">
        <h3>Please select a manufacturer from the list below, select all that apply</h3>
        <mat-divider></mat-divider>
        <div class="form-group">
            <mat-checkbox *ngFor="let manuControl of manuControls?.controls; let i = index" [formControl]="manuControl | formControl"> 
             {{i}} {{ manufacturers[i]?.name }}
            </mat-checkbox>
          </div>
        <div>
          <mat-divider></mat-divider>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button matStepperNext (click)="step4OnClick()">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p> The product has been added! </p>
      <div>
        <h1>Upload Images for the product</h1>
        <abo-file-upload (doneUploading)="updateproductInDb($event)" (imageSelect)="addExistingImage($event)"></abo-file-upload>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="stepper.reset()">Reset</button>
      </div>
    </mat-step>
  </mat-stepper>
  